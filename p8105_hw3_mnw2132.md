p8105_hw3_mnw2132
================
Mary Williams
10-16-2024

``` r
library(tidyverse)
```

### Problem 1

``` r
library(p8105.datasets)
data("ny_noaa")
```

When looking at the data with:

``` r
str(ny_noaa)
## tibble [2,595,176 × 7] (S3: tbl_df/tbl/data.frame)
##  $ id  : chr [1:2595176] "US1NYAB0001" "US1NYAB0001" "US1NYAB0001" "US1NYAB0001" ...
##  $ date: Date[1:2595176], format: "2007-11-01" "2007-11-02" ...
##  $ prcp: int [1:2595176] NA NA NA NA NA NA NA NA NA NA ...
##  $ snow: int [1:2595176] NA NA NA NA NA NA NA NA NA NA ...
##  $ snwd: int [1:2595176] NA NA NA NA NA NA NA NA NA NA ...
##  $ tmax: chr [1:2595176] NA NA NA NA ...
##  $ tmin: chr [1:2595176] NA NA NA NA ...
##  - attr(*, "spec")=
##   .. cols(
##   ..   id = col_character(),
##   ..   date = col_date(format = ""),
##   ..   prcp = col_integer(),
##   ..   snow = col_integer(),
##   ..   snwd = col_integer(),
##   ..   tmax = col_character(),
##   ..   tmin = col_character()
##   .. )
summary(ny_noaa)
##       id                 date                 prcp               snow       
##  Length:2595176     Min.   :1981-01-01   Min.   :    0.00   Min.   :  -13   
##  Class :character   1st Qu.:1988-11-29   1st Qu.:    0.00   1st Qu.:    0   
##  Mode  :character   Median :1997-01-21   Median :    0.00   Median :    0   
##                     Mean   :1997-01-01   Mean   :   29.82   Mean   :    5   
##                     3rd Qu.:2005-09-01   3rd Qu.:   23.00   3rd Qu.:    0   
##                     Max.   :2010-12-31   Max.   :22860.00   Max.   :10160   
##                                          NA's   :145838     NA's   :381221  
##       snwd            tmax               tmin          
##  Min.   :   0.0   Length:2595176     Length:2595176    
##  1st Qu.:   0.0   Class :character   Class :character  
##  Median :   0.0   Mode  :character   Mode  :character  
##  Mean   :  37.3                                        
##  3rd Qu.:   0.0                                        
##  Max.   :9195.0                                        
##  NA's   :591786
sum(is.na(ny_noaa))
## [1] 3387623
```

there are 2,595,176 rows with 7 variables including id, date, prcp,
snow, snwd, tmax and tmin. id, tmax, and tmin are charecters, prcp, snow
and snwd are integers, and date is just date. Thre are 3387623 missing
variables. The rows that have all information besides id and date
missing, would be good to remove.

# Data cleaning

*Separate year, month, and date; clean names; make tmin and tmax
numeric, and change prcp, tmax and tmin, to no longer be “a tenth of…”*

``` r
cleaned_noaa = ny_noaa %>%
  janitor::clean_names() %>%
  separate("date", into = c("year", "month", "day"), sep = "4") %>%
   mutate(
    tmin = as.numeric(tmin),
    tmax = as.numeric(tmax), 
    prcp = prcp / 10,
    tmax = tmax / 10,
    tmin = tmin / 10
  )
## Warning: Expected 3 pieces. Additional pieces discarded in 2055 rows [6918, 6928, 6938,
## 9354, 9364, 9374, 13562, 13572, 13582, 22360, 22370, 22380, 24947, 24957,
## 24967, 27475, 27485, 27495, 27781, 27791, ...].
## Warning: Expected 3 pieces. Missing pieces filled with `NA` in 2532992 rows [1, 2, 3, 4,
## 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, ...].
```

# Checking cleaned data

``` r
summary(cleaned_noaa)
##       id                year              month               day           
##  Length:2595176     Length:2595176     Length:2595176     Length:2595176    
##  Class :character   Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character   Mode  :character  
##                                                                             
##                                                                             
##                                                                             
##                                                                             
##       prcp              snow             snwd             tmax        
##  Min.   :   0.00   Min.   :  -13    Min.   :   0.0   Min.   :-38.9    
##  1st Qu.:   0.00   1st Qu.:    0    1st Qu.:   0.0   1st Qu.:  5.0    
##  Median :   0.00   Median :    0    Median :   0.0   Median : 15.0    
##  Mean   :   2.98   Mean   :    5    Mean   :  37.3   Mean   : 14.0    
##  3rd Qu.:   2.30   3rd Qu.:    0    3rd Qu.:   0.0   3rd Qu.: 23.3    
##  Max.   :2286.00   Max.   :10160    Max.   :9195.0   Max.   : 60.0    
##  NA's   :145838    NA's   :381221   NA's   :591786   NA's   :1134358  
##       tmin        
##  Min.   :-59.4    
##  1st Qu.: -3.9    
##  Median :  3.3    
##  Mean   :  3.0    
##  3rd Qu.: 11.1    
##  Max.   : 60.0    
##  NA's   :1134420
```

# Most common observed snowfall values

``` r
cleaned_noaa %>%
group_by(snow) %>%
  summarize(count = n()) %>%
  arrange(desc(count))
## # A tibble: 282 × 2
##     snow   count
##    <int>   <int>
##  1     0 2008508
##  2    NA  381221
##  3    25   31022
##  4    13   23095
##  5    51   18274
##  6    76   10173
##  7     8    9962
##  8     5    9748
##  9    38    9197
## 10     3    8790
## # ℹ 272 more rows
```

The most common snowfall values were “0” with 2008508 and “NA” with
381221. This is likely because it does not snow often, especially in
some of the locations observed.
